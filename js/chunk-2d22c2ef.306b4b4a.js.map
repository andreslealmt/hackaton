{"version":3,"sources":["webpack:///./src/views/Categorias.vue","webpack:///./src/views/Categorias.vue?616f"],"names":["class","id","scope","type","categoria","name","placeholder","aria-label","aria-describedby","guardarCategoria","categorias","key","eliminarCategoria","setup","store","url","state","cargarCategorias","fetch","res","json","value","console","log","method","mode","headers","body","JSON","stringify","limpiarCategoria","text","alert","__exports__","render"],"mappings":"oJACQA,MAAM,kB,GACFA,MAAM,O,GACFA,MAAM,Y,GACFA,MAAM,oB,EACN,eAA8D,QAAxDA,MAAM,mBAAmBC,GAAG,gBAAe,UAAM,G,GAQ3DD,MAAM,a,GACCA,MAAM,c,EACT,eAOQ,cANJ,eAKK,WAJL,eAA2B,MAAvBE,MAAM,OAAM,UAEhB,eAA6B,MAAzBA,MAAM,OAAM,YAChB,eAA+B,MAA3BA,MAAM,OAAM,kB,MAKZA,MAAM,O,gBAMV,eAIK,WAHD,eAES,UAFAC,KAAK,SAASH,MAAM,wBAAwB,c,mDA/B9E,eAyCM,MAzCN,EAyCM,CAxCF,eAuCM,MAvCN,EAuCM,CAtCF,eASM,MATN,EASM,CARF,eAGW,MAHX,EAGW,CAFN,E,eACA,eAAsJ,S,qDAAtI,EAAAI,UAAUC,KAAI,IAAEF,KAAK,OAAOH,MAAM,eAAeM,YAAY,mBAAmBC,aAAW,WAAWC,mBAAiB,gB,mBAAvH,EAAAJ,UAAUC,UAG9B,eAES,UAFA,QAAK,+BAAE,EAAAI,qBAAoBN,KAAK,SAASH,MAAM,2BAA2B,eAIxF,eA2BM,MA3BN,EA2BM,CA1BD,eAyBY,QAzBZ,EAyBY,CAxBR,EAQA,eAeQ,e,mBAdJ,eAYK,2BAZmB,EAAAU,YAAU,SAAvBN,G,wBAAX,eAYK,MAZgCO,IAAKP,EAAUH,I,CACpD,eAAuC,KAAvC,EAAuC,eAArBG,EAAUC,MAAI,GAChC,eAIK,WAHD,eAES,UAFA,QAAK,mBAAE,EAAAO,kBAAkBR,EAAUH,KAAME,KAAK,SAASH,MAAM,0BAAyB,aAE/F,OAEJ,O,oGAoBT,GACXK,KAAK,aACLQ,MAFW,WAIP,IAAMC,EAAQ,iBACRC,EAAMD,EAAME,MAAMD,IAClBL,EAAa,eAAI,IACjBN,EAAY,eAAI,CAACC,KAAK,KAEtBY,EAAe,yDAAI,6HAECC,MAAM,UAAGH,GAAM,sBAFhB,cAEXI,EAFW,gBAGQA,EAAIC,OAHZ,OAGjBV,EAAWW,MAHM,0DAKjBC,QAAQC,IAAR,MALiB,yDAAJ,qDASfd,EAAe,yDAAI,6HAGCS,MAAM,UAAGH,GAAM,sBAAsB,CACnDS,OAAO,OACPC,KAAM,OACNC,QAAS,CACL,eAAgB,oBAGpBC,KAAMC,KAAKC,UAAUzB,EAAUiB,SAVlB,cAGXF,EAHW,gBAYGA,EAAIC,OAZP,cAajBU,IACAb,IAdiB,qDAiBjBK,QAAQC,IAAR,MAjBiB,0DAAJ,qDAqBfX,EAAgB,yDAAI,WAAOX,GAAP,8FACtBqB,QAAQC,IAAItB,GADU,kBAGAiB,MAAM,UAAGH,GAAM,kBAAkBd,EAAG,CAClDuB,OAAO,WAJO,cAGZL,EAHY,gBAMEA,EAAIY,OANN,cAOlBd,IAPkB,qDASlBK,QAAQC,IAAR,MACAS,MAAM,sEAVY,0DAAJ,sDAchBF,EAAmB,WACrB1B,EAAUiB,MAAQ,IAStB,OALA,gBAAU,WACNJ,OAIG,CACHA,mBAAkBP,aAAYN,YAAW0B,mBAAkBrB,mBAC3DG,uB,qBC/GZ,MAAMqB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d22c2ef.306b4b4a.js","sourcesContent":["<template>\r\n   <div class=\"container mt-5\">\r\n       <div class=\"row\">\r\n           <div class=\"col-sm-4\">\r\n               <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Nombre</span>\r\n                    <input v-model=\"categoria.name\" type=\"text\" class=\"form-control\" placeholder=\"nombre categoria\" aria-label=\"Username\" aria-describedby=\"basic-addon1\">\r\n                    </div>\r\n                   \r\n                <button @click=\"guardarCategoria()\" type=\"button\" class=\"btn btn-outline-success\" >                               \r\n                    Agregar\r\n                </button> \r\n           </div>\r\n           <div class=\"col-sm-12\">\r\n                <table class=\"table mt-5\">\r\n                    <thead>\r\n                        <tr>\r\n                        <th scope=\"col\">Nombre</th>\r\n                        \r\n                        <th scope=\"col\">Eliminar</th>\r\n                        <th scope=\"col\">Actualizar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"categoria in categorias\" :key=\"categoria.id\">\r\n                        <th scope=\"row\">{{categoria.name}}</th>                        \r\n                        <td>\r\n                            <button @click=\"eliminarCategoria(categoria.id)\"  type=\"button\" class=\"btn btn-outline-danger\">                               \r\n                                            eliminar\r\n                            </button> \r\n                        </td>\r\n                        <td>\r\n                            <button  type=\"button\" class=\"btn btn-outline-info\" >                               \r\n                                            Editar\r\n                            </button> \r\n                        </td>\r\n                        </tr>\r\n                        \r\n                    </tbody>\r\n                    </table>\r\n           </div>\r\n       </div>\r\n   </div>\r\n</template>\r\n<script>\r\nimport { computed, ref } from '@vue/reactivity';\r\nimport { useStore } from 'vuex';\r\nimport { onMounted } from '@vue/runtime-core';\r\n\r\n\r\n\r\nexport default {\r\n    name:'Categorias',\r\n    setup() {\r\n\r\n        const store = useStore();\r\n        const url = store.state.url;\r\n        const categorias = ref([]);\r\n        const categoria = ref({name:''});\r\n\r\n        const cargarCategorias = async () => {\r\n            try {\r\n                const res = await fetch(`${url}`+'/api/categoria/all');\r\n                categorias.value = await res.json();\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        const guardarCategoria = async () => {\r\n\r\n            try {\r\n                const res = await fetch(`${url}`+'/api/categoria/save',{\r\n                    method:'POST',\r\n                    mode: 'cors',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                     // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                    body: JSON.stringify(categoria.value)\r\n                });\r\n                const datos = await res.json();\r\n                limpiarCategoria();\r\n                cargarCategorias();\r\n\r\n            } catch (error) {\r\n                console.log(error)\r\n            }            \r\n        }\r\n\r\n        const eliminarCategoria = async (id) => {\r\n            console.log(id)\r\n            try {\r\n                const res = await fetch(`${url}`+'/api/categoria/'+id,{\r\n                    method:'DELETE'\r\n                });\r\n                const datos = await res.text();\r\n                cargarCategorias();\r\n            } catch (error) {\r\n                console.log(error)\r\n                alert('no se puede elimiar, restrigsion de clave foranea en tabla Disfraz');\r\n            }\r\n        }\r\n\r\n        const limpiarCategoria = () => {\r\n            categoria.value = {};\r\n        }\r\n\r\n\r\n        onMounted(() => {\r\n            cargarCategorias();\r\n        });\r\n        \r\n\r\n        return {\r\n            cargarCategorias, categorias, categoria, limpiarCategoria, guardarCategoria,\r\n            eliminarCategoria\r\n        }\r\n        \r\n    },\r\n}\r\n</script>","import { render } from \"./Categorias.vue?vue&type=template&id=6ca5fa56\"\nimport script from \"./Categorias.vue?vue&type=script&lang=js\"\nexport * from \"./Categorias.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\Proyectos\\\\Practicas Web\\\\Vue\\\\hackaton-p3-front\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}